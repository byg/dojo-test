<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	

	<title>Docs: Fundamentals | Dojo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta name="description" content="vDOM Abstractions@dojo/widget-core/d.tsCreating the DOM structure to support the syntax, style, and structure required to display a custom component may require a significant number of nodes. Because">
<meta property="og:type" content="website">
<meta property="og:title" content="vDOM Abstractions - w and v in the d module">
<meta property="og:url" content="https://byg.github.io/docs/fundamentals/vdom_abstractions/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="vDOM Abstractions@dojo/widget-core/d.tsCreating the DOM structure to support the syntax, style, and structure required to display a custom component may require a significant number of nodes. Because">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-20T07:19:26.871Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vDOM Abstractions - w and v in the d module">
<meta name="twitter:description" content="vDOM Abstractions@dojo/widget-core/d.tsCreating the DOM structure to support the syntax, style, and structure required to display a custom component may require a significant number of nodes. Because">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
	
		<link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
	
	
		<link rel="icon" href="/images/favicons/favicon.ico">
	
	<link rel="stylesheet" href="/dojo-test/css/main.css">
	
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

	<body class="
">
		<div class="page-wrapper">
			<header class="header">
	<div class="container">
		<nav class="navbar">
			<div class="navbar-brand">
				<a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="site-logo" alt="Dojo"></a>
				<div class="navbar-burger">
					<span></span>
					<span></span>
					<span></span>
				</div>
			</div>
			<div class="navbar-menu">
				<div class="navbar-start"></div>
				<div class="navbar-end">
					<a class="navbar-item" href="/docs/fundamentals/accessibility/index.html">Docs</a>
					<a class="navbar-item" href="/tutorials">Tutorials</a>
					<a class="navbar-item" href="/cookbook/modern-web-apps/efficient-state-management.html">Cookbook</a>
					<a class="navbar-item" href="/blog">Blog</a>
					<a class="navbar-item" href="https://github.com/dojo/meta"><span class="icon is-medium"><i class="fa fa-github" aria-hidden="true"></i></span></a>
				</div>
			</div>
		</nav>
	</div>
</header>

			<div class="content-wrapper">
				<div class="page-content">
					<section class="section">
	<div class="container">
		<div class="columns">
			<div class="column is-3">
				<aside class="menu">
		
	<p class="menu-label">
			fundamentals
		</p>

		<ul class="menu-list">
			
				<li
					
				>
					<a href="/dojo-test/docs/fundamentals/accessibility/index.html">
						Accessibility
					</a>
				</li>
			
				<li
					
				>
					<a href="/dojo-test/docs/fundamentals/internationalization/index.html">
						Internationalization
					</a>
				</li>
			
				<li
					
				>
					<a href="/dojo-test/docs/fundamentals/reactive_programming/index.html">
						Reactive programming
					</a>
				</li>
			
				<li
					
				>
					<a href="/dojo-test/docs/fundamentals/typescript_and_dojo_2/index.html">
						TypeScript and Dojo 2
					</a>
				</li>
			
				<li
					class="active" 
				>
					<a href="/dojo-test/docs/fundamentals/vdom_abstractions/index.html">
						vDOM Abstractions - w and v in the d module
					</a>
				</li>
			
				<li
					
				>
					<a href="/dojo-test/docs/fundamentals/working_with_virtual_dom/index.html">
						Working with a Virtual DOM
					</a>
				</li>
			
		</ul>
	
</aside>

			</div>
			<div class="column is-9 article">
				<h1 id="vDOM-Abstractions"><a href="#vDOM-Abstractions" class="headerlink" title="vDOM Abstractions"></a>vDOM Abstractions</h1><h2 id="dojo-widget-core-d-ts"><a href="#dojo-widget-core-d-ts" class="headerlink" title="@dojo/widget-core/d.ts"></a><code>@dojo/widget-core/d.ts</code></h2><p>Creating the DOM structure to support the syntax, style, and structure required to display a custom component may require a significant number of nodes. Because of this, many virtual DOM implementations have chosen single-letter function names to reduce typing and add clarity when reading code.</p>
<p>This module, named for what would be the single-letter shorthand function name for “Dojo 2” contains two single-letter functions each named for their purpose:</p>
<ul>
<li><code>v</code>: used to create an abstract version of a DOM node</li>
<li><code>w</code>: used to create an abstract version of a widget</li>
</ul>
<h2 id="Common-variables"><a href="#Common-variables" class="headerlink" title="Common variables"></a>Common variables</h2><p>A node can be thought of as an object of a certain type, customized through properties, dispatching events through callbacks, with zero or more children. Condensing this down into a function where each argument can be isolated gives us a type, a set of properties, and a list of children.</p>
<p>Because Dojo 2 is <a href="../typescript_and_dojo_2/">built on TypeScript</a>, splitting arguments into these parts allows static type enforcement that can be based on the type of node being created. It also helps explain why <code>v</code> and <code>w</code> are separate functions, as each function enforces a different set of constraints on its arguments.</p>
<h2 id="v-for-vDOM"><a href="#v-for-vDOM" class="headerlink" title="v for vDOM"></a><code>v</code> for vDOM</h2><p>Dojo 2’s virtual DOM function expects to receive the tag name, properties, and children as its three arguments. Only the tag name is required and other arguments may be omitted as long as properties and children are called in that order.</p>
<pre><code class="ts">v(&#39;article&#39;);
// represents &lt;article&gt;&lt;/article&gt;
v(&#39;article&#39;, { id: &#39;first&#39; });
// represents &lt;article id=&quot;first&quot;&gt;&lt;/article&gt;
v(&#39;article&#39;, { id: &#39;first&#39; }, [ v(&#39;p&#39;) ]);
// represents &lt;article id=&quot;first&quot;&gt;&lt;p&gt;&lt;/p&gt;&lt;/article&gt;
v(&#39;ul&#39;, [ v(&#39;li&#39;) ]);
// represents &lt;ul&gt;&lt;li&gt;&lt;/li&gt;&lt;/ul&gt;
</code></pre>
<p>Within the properties argument are common properties a DOM node would have with the <code>classes</code> key using a <code>{ string: boolean }</code> syntax.</p>
<pre><code class="ts">v(&#39;article&#39;, {
  id: &#39;first&#39;,
  classes: {
    insightful: true
  }
});
// represents &lt;article id=&quot;first&quot; class=&quot;important&quot;&gt;&lt;/article&gt;
</code></pre>
<p>Event handlers are passed directly within the properties, start with <code>on</code>, and can use the <code>bind</code> property to establish context when executed.</p>
<pre><code class="ts">const hello = {
  subject: &#39;World&#39;
};

v(&#39;button&#39;, {
  bind: hello,
  onclick() {
    console.log(&#39;Hello&#39;, this.subject);
  }
});
</code></pre>
<p>In these example, children have always been passed as <code>v</code> calls but may actually be, in addition, the result of <code>w</code> calls, strings, <code>null</code>, or <code>undefined</code>.</p>
<pre><code class="ts">v(&#39;ul&#39;, [
  v(&#39;li&#39;, [ &#39;Bread&#39; ]),
  v(&#39;li&#39;, [ &#39;Bacon&#39; ]),
  v(&#39;li&#39;, [ &#39;Lettuce&#39; ]),
  v(&#39;li&#39;, [ &#39;Tomato&#39; ])
]);
// represents &lt;ul&gt;&lt;li&gt;Bread&lt;/li&gt;&lt;li&gt;Bacon&lt;/li&gt;&lt;li&gt;Lettuce&lt;/li&gt;&lt;li&gt;Tomato&lt;/li&gt;&lt;/ul&gt;
</code></pre>
<h2 id="w-for-widget"><a href="#w-for-widget" class="headerlink" title="w for widget"></a><code>w</code> for widget</h2><p>Dojo 2’s widget function expects to receive as its type a class conforming to a lightweight interface of which two instance variables are important: <code>properties</code> and <code>children</code>. A <code>w</code> call receiving a class will use the types assigned to these two properties when enforcing what is passed to its other arguments.</p>
<p>Unlike <code>v</code>, the second argument must be the properties and is not optional, though the child array is optional.</p>
<pre><code class="ts">w(Button, {
  disabled: true
}, [ &#39;Click me!&#39; ]);
</code></pre>
<p>As an alternative, <code>w</code> also accepts a string which will derive the widget type instead through that widget’s <a href="../../../tutorials/1020_registries/">registry</a>. When this is done, type enforcement can be done through <code>w</code>‘s generic which will use that type’s <code>properties</code> and <code>children</code> to enforce what is passed in those arguments.</p>
<pre><code class="ts">w&lt;ButtonProperties, ButtonChildren&gt;(&#39;CustomButton&#39;, {
  disabled: true
}, [ &#39;Click me!&#39; ]);
</code></pre>
<p>Like <code>v</code>, children passed to this function may be the results of <code>v</code> or <code>w</code> calls, as well as strings, <code>null</code>, or <code>undefined</code>. But these children will be added to the resulting virtual DOM tree at the point that the widget decides, including placing them at different points in its hierarchy or omitting them altogether. Documentation for each widget should be consulted to see how these children are used.</p>

			</div>
		</div>
	</div>
</section>

				</div>
				<footer class="footer">
	<div class="container">
		<div class="info">
			<span class="is-size-7">&copy; 2018 JS Foundation, All Rights Reserved.</span>
		</div>
		<div class="link-container">
			<div class="links">
				<a href="https://twitter.com/dojo" class="twitter"></a>
				<a href="https://github.com/dojo" class="github"></a>
			</div>
		</div>
	</div>
</footer>

			</div>
			
		</div>
		
<!-- build:js /js/combined.js -->
<script src='/dojo-test/js/site.js'></script>
<!-- endbuild -->
	</body>
</html>
